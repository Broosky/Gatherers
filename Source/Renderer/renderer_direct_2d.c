/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Program Name: Gatherers (C)                                                                                             //
// Author: Jeffrey Bednar                                                                                                  //
// Copyright (c) Illusion Interactive, 2011 - 2025.                                                                        //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "../../Headers/common_types.h"
#include "../../Headers/globals.h"
#include "../../Headers/log.h"
#include "../../Headers/misc.h"
#include "../../Headers/Renderer/renderer.h"
#include "../../Headers/Renderer/renderer_direct_2d.h"
#include <stdlib.h>
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Local only:
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_Zero(DIRECT_2D_T* p_D2d) {
    ZeroMemory(p_D2d, sizeof(DIRECT_2D_T));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
DIRECT_2D_T* __cdecl DIRECT_2D_Create(RENDERER_T* p_Renderer, GLOBALS_T* p_Globals, LOG_T* p_Log) {
    size_t stAllocation = sizeof(DIRECT_2D_T);
    DIRECT_2D_T* p_D2d = malloc(stAllocation);
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    if (!p_D2d) {
        MISC_WriteOutParams(p_Log, LOG_SEVERITY_FATAL, "DIRECT_2D_Create(): Malloc failed for size: %zu bytes\n", stAllocation);
        return NULL;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    p_Globals->stAllocations += stAllocation;
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    DIRECT_2D_Zero(p_D2d);
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Renderer population.
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    p_Renderer->vp_Implementation = p_D2d;
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    p_Renderer->GetClientArea = DIRECT_2D_GetClientArea;
    p_Renderer->Resize = DIRECT_2D_Resize;
    p_Renderer->Kill = DIRECT_2D_Kill;
    p_Renderer->SetBlitter = DIRECT_2D_SetBlitter;
    p_Renderer->Blitter = DIRECT_2D_Blitter;
    p_Renderer->Clear = DIRECT_2D_Clear;
    p_Renderer->ClearEntity = DIRECT_2D_ClearEntity;
    p_Renderer->FlipEntity = DIRECT_2D_FlipEntity;
    p_Renderer->PresentFrame = DIRECT_2D_PresentFrame;
    p_Renderer->HandlePreProcessing = DIRECT_2D_HandlePreProcessing;
    p_Renderer->CaptureDirtyZone = DIRECT_2D_CaptureDirtyZone;
    p_Renderer->PrepareDirtyZone = DIRECT_2D_PrepareDirtyZone;
    p_Renderer->EnablingPostProcessing = DIRECT_2D_EnablingPostProcessing;
    p_Renderer->DisablingPostProcessing = DIRECT_2D_DisablingPostProcessing;
    p_Renderer->HandlePostProcessing = DIRECT_2D_HandlePostProcessing;
    p_Renderer->FlipArea = DIRECT_2D_FlipArea;
    p_Renderer->ApplyWorldTransform = DIRECT_2D_ApplyWorldTransform;
    p_Renderer->ResetWorldTransform = DIRECT_2D_ResetWorldTransform;
    p_Renderer->InitWorldTransform = DIRECT_2D_InitWorldTransform;
    p_Renderer->DrawMinimapEntities = DIRECT_2D_DrawMinimapEntities;
    p_Renderer->DrawMinimapViewport = DIRECT_2D_DrawMinimapViewport;
    p_Renderer->DrawMinimapSelectionArea = DIRECT_2D_DrawMinimapSelectionArea;
    p_Renderer->DrawBuildLimits = DIRECT_2D_DrawBuildLimits;
    p_Renderer->DrawBuildType = DIRECT_2D_DrawBuildType;
    p_Renderer->DrawSelectionArea = DIRECT_2D_DrawSelectionArea;
    p_Renderer->DrawTranslationThreshold = DIRECT_2D_DrawTranslationThreshold;
    p_Renderer->DrawPicture = DIRECT_2D_DrawPicture;
    p_Renderer->DrawPictureAt = DIRECT_2D_DrawPictureAt;
    p_Renderer->CropDrawPictureAt = DIRECT_2D_CropDrawPictureAt;
    p_Renderer->DrawEntityMinorVector = DIRECT_2D_DrawEntityMinorVector;
    p_Renderer->DrawEntityMajorVector = DIRECT_2D_DrawEntityMajorVector;
    p_Renderer->DrawEntityEllipse = DIRECT_2D_DrawEntityEllipse;
    p_Renderer->DrawEntity = DIRECT_2D_DrawEntity;
    p_Renderer->DrawDirtyZones = DIRECT_2D_DrawDirtyZones;
    p_Renderer->DrawTerrainGrid = DIRECT_2D_DrawTerrainGrid;
    p_Renderer->DrawLine = DIRECT_2D_DrawLine;
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    // Unused, retained internally in renderer.
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    return p_D2d;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
DIRECT_2D_T* __cdecl DIRECT_2D_Cast(RENDERER_T* p_Renderer) {
    return (DIRECT_2D_T*)p_Renderer->vp_Implementation;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Accessible via Renderer:
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_Kill(RENDERER_T* p_Renderer, GLOBALS_T* p_Globals) {
    DIRECT_2D_T* p_D2d = DIRECT_2D_Cast(p_Renderer);
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    if (p_D2d) {
        free(p_D2d);
        p_Globals->stAllocations -= sizeof(DIRECT_2D_T);
    }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
RECT __cdecl DIRECT_2D_GetClientArea(RENDERER_T* p_Renderer) {
    return (RECT) { .left = 0, .top = 0, .right = 0, .bottom = 0 };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_Resize(RENDERER_T* p_Renderer, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_SetBlitter(RENDERER_T* p_Renderer, PICTURE_T* p_Picture) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_Blitter(RENDERER_T* p_Renderer, char* p_szText, FPOINT_T Location, UINT8 ubMask) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_Clear(RENDERER_T* p_Renderer, ASSETS_T* p_Assets) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_ClearEntity(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, ASSETS_T* p_Assets) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_FlipEntity(RENDERER_T* p_Renderer, ENTITY_T* p_Entity) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_PresentFrame(RENDERER_T* p_Renderer) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_HandlePreProcessing(RENDERER_T* p_Renderer, MENU_T* p_Menu, ASSETS_T* p_Assets, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
FRECT_T __cdecl DIRECT_2D_CaptureDirtyZone(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, SETTINGS_T* p_Settings, CONSTANTS_T* p_Constants) {
    return (FRECT_T) {
        .Location = { .fX = 0.0f, .fY = 0.0f },
            .Size = { .fDx = 0.0f, .fDy = 0.0f }
    };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawDirtyZones(RENDERER_T* p_Renderer, ASSETS_T* p_Assets, GLOBALS_T* p_Globals) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawTerrainGrid(RENDERER_T* p_Renderer, FPOINT_T From, FPOINT_T To, ASSETS_T* p_Assets, GLOBALS_T* p_Globals) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawLine(RENDERER_T* p_Renderer, FPOINT_T From, FPOINT_T To, HPEN hPen) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_PrepareDirtyZone(RENDERER_T* p_Renderer, FRECT_T DirtyZone, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_EnablingPostProcessing(RENDERER_T* p_Renderer, MENU_T* p_Menu, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DisablingPostProcessing(RENDERER_T* p_Renderer, MENU_T* p_Menu, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_HandlePostProcessing(RENDERER_T* p_Renderer, MENU_T* p_Menu, GLOBALS_T* p_Globals, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_FlipArea(RENDERER_T* p_Renderer, IRECT_T Area) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_ApplyWorldTransform(RENDERER_T* p_Renderer, TRANSFORM_TYPE_T eType, CONSTANTS_T* p_Constants, float fValue, FPOINT_T Pin, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_ResetWorldTransform(RENDERER_T* p_Renderer) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_InitWorldTransform(RENDERER_T* p_Renderer) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawMinimapEntities(RENDERER_T* p_Renderer, GLOBALS_T* p_Globals, FPOINT_T MinimapOrigin, ASSETS_T* p_Assets, SETTINGS_T* p_Settings, MENU_T* p_Menu, LOG_T* p_Log) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawMinimapViewport(RENDERER_T* p_Renderer, ASSETS_T* p_Assets, FPOINT_T TopLeft, FPOINT_T TopRight, FPOINT_T BottomRight, FPOINT_T BottomLeft) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawMinimapSelectionArea(RENDERER_T* p_Renderer, ASSETS_T* p_Assets, FPOINT_T TopLeft, FPOINT_T TopRight, FPOINT_T BottomRight, FPOINT_T BottomLeft) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawBuildLimits(RENDERER_T* p_Renderer, ASSETS_T* p_Assets, FPOINT_T TopLeft, FPOINT_T TopRight, FPOINT_T BottomRight, FPOINT_T BottomLeft) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawBuildType(RENDERER_T* p_Renderer, MENU_T* p_Menu, ASSETS_T* p_Assets, PICTURE_T* p_Picture, FPOINT_T Location, IRECT_T BarrierArea) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawSelectionArea(RENDERER_T* p_Renderer, GLOBALS_T* p_Globals, ASSETS_T* p_Assets) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawTranslationThreshold(RENDERER_T* p_Renderer, ASSETS_T* p_Assets, GLOBALS_T* p_Globals) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawPicture(RENDERER_T* p_Renderer, PICTURE_T* p_Picture, UINT8 ubMask) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawPictureAt(RENDERER_T* p_Renderer, PICTURE_T* p_Picture, FPOINT_T Location, UINT8 ubMask) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_CropDrawPictureAt(RENDERER_T* p_Renderer, PICTURE_T* p_Picture, FPOINT_T CropDestination, FDELTA_T CropDelta, FPOINT_T CropSource, UINT8 ubMask) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawEntityMinorVector(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, ASSETS_T* p_Assets) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawEntityMajorVector(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, ASSETS_T* p_Assets) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawEntityEllipse(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, HPEN hPen, HBRUSH hBrush, SETTINGS_T* p_Settings) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl DIRECT_2D_DrawEntity(RENDERER_T* p_Renderer, ENTITY_T* p_Entity, UINT8 ubMask) {
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
