/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// Program Name: Gatherers (C)                                                                                             //
// Author: Jeffrey Bednar                                                                                                  //
// Copyright (c) Illusion Interactive, 2011 - 2025.                                                                        //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
#include "../Headers/common.h"
#include "../Headers/globals.h"
#include "../Headers/log.h"
#include "../Headers/settings.h"
#include <stdlib.h>
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl SETTINGS_Zero(SETTINGS_T* p_Settings) {
    ZeroMemory(p_Settings, sizeof(SETTINGS_T));
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
SETTINGS_T* __cdecl SETTINGS_Create(GLOBALS_T* p_Globals, LOG_T* p_Log) {
    size_t stAllocation = sizeof(SETTINGS_T);
    SETTINGS_T* p_Settings = malloc(stAllocation);
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    if (!p_Settings) {
        LOG_AppendParams(p_Log, "SETTINGS_Create(): malloc failed for size : % zu bytes\n", stAllocation);
        return NULL;
    }
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    p_Globals->stAllocations += stAllocation;
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    SETTINGS_Zero(p_Settings);
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
    return p_Settings;
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl SETTINGS_InitFromFile(SETTINGS_T* p_Settings)
{
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void __cdecl SETTINGS_Kill(SETTINGS_T* p_Settings, GLOBALS_T* p_Globals) {
    if (p_Settings) {
        free(p_Settings);
        p_Globals->stAllocations -= sizeof(SETTINGS_T);
    }
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
